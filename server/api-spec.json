{
   "openapi": "3.1.0",
   "info": { "version": "8.8.0", "title": "@fastify/swagger" },
   "components": {
      "schemas": {
         "Habit": {
            "type": "object",
            "properties": {
               "id": { "type": "integer" },
               "name": { "type": "string" },
               "description": {
                  "anyOf": [{ "type": "string" }, { "type": "null" }]
               },
               "category": {
                  "anyOf": [{ "type": "string" }, { "type": "null" }]
               },
               "created": { "type": "string", "format": "date" },
               "lastUpdated": {
                  "anyOf": [
                     { "type": "string", "format": "date" },
                     { "type": "null" }
                  ]
               },
               "trackingStartDate": { "type": "string", "format": "date" },
               "repeatDays": {
                  "type": "array",
                  "minItems": 1,
                  "maxItems": 7,
                  "items": {
                     "type": "string",
                     "enum": [
                        "Sunday",
                        "Monday",
                        "Tuesday",
                        "Wednesday",
                        "Thursday",
                        "Friday",
                        "Saturday"
                     ]
                  }
               }
            },
            "additionalProperties": false,
            "required": [
               "id",
               "name",
               "repeatDays",
               "trackingStartDate",
               "created",
               "lastUpdated",
               "description",
               "category"
            ]
         }
      },
      "securitySchemes": {
         "cookieAuth": { "type": "apiKey", "in": "cookie", "name": "sessionId" }
      }
   },
   "paths": {
      "/api/signup": {
         "post": {
            "operationId": "signup",
            "tags": ["auth"],
            "requestBody": {
               "content": {
                  "application/json": {
                     "schema": {
                        "type": "object",
                        "properties": {
                           "email": { "type": "string", "format": "email" },
                           "password": { "type": "string", "minLength": 6 },
                           "confirmPassword": {
                              "enum": [{ "$data": "1/password" }]
                           }
                        },
                        "required": ["email", "password", "confirmPassword"]
                     }
                  }
               },
               "required": true
            },
            "responses": { "200": { "description": "Default Response" } }
         }
      },
      "/api/login": {
         "post": {
            "operationId": "login",
            "tags": ["auth"],
            "requestBody": {
               "content": {
                  "application/json": {
                     "schema": {
                        "type": "object",
                        "properties": {
                           "email": { "type": "string", "format": "email" },
                           "password": { "type": "string", "minLength": 6 }
                        },
                        "required": ["email", "password"]
                     }
                  }
               },
               "required": true
            },
            "responses": { "200": { "description": "Default Response" } }
         }
      },
      "/api/logout": {
         "post": {
            "operationId": "logout",
            "tags": ["auth"],
            "responses": { "200": { "description": "Default Response" } }
         }
      },
      "/api/habits": {
         "get": {
            "operationId": "getHabits",
            "tags": ["habits"],
            "responses": {
               "200": {
                  "description": "Default Response",
                  "content": {
                     "application/json": {
                        "schema": {
                           "type": "array",
                           "items": {
                              "type": "object",
                              "properties": {
                                 "id": { "type": "integer" },
                                 "name": { "type": "string" },
                                 "description": {
                                    "anyOf": [
                                       { "type": "string" },
                                       { "type": "null" }
                                    ]
                                 },
                                 "category": {
                                    "anyOf": [
                                       { "type": "string" },
                                       { "type": "null" }
                                    ]
                                 },
                                 "created": {
                                    "type": "string",
                                    "format": "date"
                                 },
                                 "lastUpdated": {
                                    "anyOf": [
                                       { "type": "string", "format": "date" },
                                       { "type": "null" }
                                    ]
                                 },
                                 "trackingStartDate": {
                                    "type": "string",
                                    "format": "date"
                                 },
                                 "repeatDays": {
                                    "type": "array",
                                    "minItems": 1,
                                    "maxItems": 7,
                                    "items": {
                                       "type": "string",
                                       "enum": [
                                          "Sunday",
                                          "Monday",
                                          "Tuesday",
                                          "Wednesday",
                                          "Thursday",
                                          "Friday",
                                          "Saturday"
                                       ]
                                    }
                                 }
                              },
                              "additionalProperties": false,
                              "required": [
                                 "id",
                                 "name",
                                 "repeatDays",
                                 "trackingStartDate",
                                 "created",
                                 "lastUpdated",
                                 "description",
                                 "category"
                              ]
                           }
                        }
                     }
                  }
               }
            }
         },
         "post": {
            "operationId": "createHabit",
            "tags": ["habits"],
            "requestBody": {
               "content": {
                  "application/json": {
                     "schema": {
                        "type": "object",
                        "properties": {
                           "name": { "type": "string" },
                           "description": {
                              "anyOf": [
                                 { "type": "string" },
                                 { "type": "null" }
                              ]
                           },
                           "category": {
                              "anyOf": [
                                 { "type": "string" },
                                 { "type": "null" }
                              ]
                           },
                           "trackingStartDate": {
                              "type": "string",
                              "format": "date"
                           },
                           "repeatDays": {
                              "type": "array",
                              "minItems": 1,
                              "maxItems": 7,
                              "items": {
                                 "type": "string",
                                 "enum": [
                                    "Sunday",
                                    "Monday",
                                    "Tuesday",
                                    "Wednesday",
                                    "Thursday",
                                    "Friday",
                                    "Saturday"
                                 ]
                              }
                           }
                        },
                        "required": ["name", "repeatDays", "trackingStartDate"],
                        "additionalProperties": false
                     }
                  }
               },
               "required": true
            },
            "responses": {
               "200": {
                  "description": "Default Response",
                  "content": {
                     "application/json": {
                        "schema": {
                           "type": "object",
                           "properties": {
                              "id": { "type": "integer" },
                              "name": { "type": "string" },
                              "description": {
                                 "anyOf": [
                                    { "type": "string" },
                                    { "type": "null" }
                                 ]
                              },
                              "category": {
                                 "anyOf": [
                                    { "type": "string" },
                                    { "type": "null" }
                                 ]
                              },
                              "created": { "type": "string", "format": "date" },
                              "lastUpdated": {
                                 "anyOf": [
                                    { "type": "string", "format": "date" },
                                    { "type": "null" }
                                 ]
                              },
                              "trackingStartDate": {
                                 "type": "string",
                                 "format": "date"
                              },
                              "repeatDays": {
                                 "type": "array",
                                 "minItems": 1,
                                 "maxItems": 7,
                                 "items": {
                                    "type": "string",
                                    "enum": [
                                       "Sunday",
                                       "Monday",
                                       "Tuesday",
                                       "Wednesday",
                                       "Thursday",
                                       "Friday",
                                       "Saturday"
                                    ]
                                 }
                              }
                           },
                           "additionalProperties": false,
                           "required": [
                              "id",
                              "name",
                              "repeatDays",
                              "trackingStartDate",
                              "created",
                              "lastUpdated",
                              "description",
                              "category"
                           ]
                        }
                     }
                  }
               }
            }
         }
      },
      "/api/habits/{habitId}": {
         "delete": {
            "operationId": "deleteHabit",
            "tags": ["habits"],
            "parameters": [
               {
                  "schema": { "type": "integer" },
                  "in": "path",
                  "name": "habitId",
                  "required": true
               }
            ],
            "responses": { "200": { "description": "Default Response" } }
         }
      },
      "/api/habits/completions": {
         "get": {
            "operationId": "getCompletions",
            "tags": ["habits"],
            "parameters": [
               {
                  "schema": { "type": "string", "format": "date" },
                  "in": "query",
                  "name": "date",
                  "required": false
               }
            ],
            "responses": {
               "200": {
                  "description": "Default Response",
                  "content": {
                     "application/json": {
                        "schema": {
                           "type": "array",
                           "items": {
                              "type": "object",
                              "properties": {
                                 "habitId": { "type": "number" },
                                 "completionStatus": {
                                    "type": "string",
                                    "enum": [
                                       "complete",
                                       "incomplete",
                                       "pending"
                                    ]
                                 },
                                 "scheduledDate": {
                                    "type": "string",
                                    "format": "date"
                                 }
                              },
                              "required": [
                                 "habitId",
                                 "completionStatus",
                                 "scheduledDate"
                              ],
                              "additionalProperties": false
                           }
                        }
                     }
                  }
               }
            }
         }
      }
   },
   "security": [{ "cookieAuth": [] }]
}
